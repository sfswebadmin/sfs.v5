---
const {films, siteData} = Astro.props;
---

<div class="row mt-3">
    <section class="col-lg-12">
        <a id="sfsfilms"></a>
        <h3>Our Film Season For {siteData.filmseason}</h3>
        <p>
            <strong>Doors open 30 minutes before a show.</strong>
            We donâ€™t show any adverts, so please make sure to arrive in good
            time to get your ticket and seat.
        </p>
        {
            films.map((film) => (
                <article class="row mb-4 film-article">
                    <a id={film.taglink} />
                    <div class="col-lg-4">
                        <img class="img-fluid" src={film.filmImage} title="{ film.title } film screenshot"
                            alt="{ film.title } film screenshot" />
                    </div>
                    <div class="col-lg-8">
                        <h3>{film.title.toUpperCase()}</h3>
                        <p>
                            <strong>
                                {film.dayShowing} {film.dateShowing},{" "}
                                {film.timeShowing}, {film.locationShowing}
                            </strong>
                        </p>
                        <p class="film-article__info">
                            {film.releaseDate} | {film.country} |{" "}
                            {film.duration} | {film.certificate} |{" "}
                            {film.genreName}
                        </p>
                        <div class="film-article__snippet">
                            {" "}
                            {film.frontPageSnippet}
                        </div>
                        <div class="row button-bar">
                            <div class="col-lg-12 mt-2 front-page-buttons">
                                <a href={film.trailerLink} role="button" class="btn btn-warning" target="_blank">
                                    Trailer
                                </a>
                                <a href={film.reviewsLink} role="button" class="btn btn-warning" target="_blank">
                                    Reviews
                                </a>
                                <a href={film.synopsisLink} role="button" class="btn btn-warning">
                                    Synopsis
                                </a>
                                <a href="/membership/" role="button" class:list={["btn", "btn-default", "btn-tickets", { "d-none": film.attendance !== 0 }]}>
                                    Tickets
                                </a>
                                <button class:list={["btn", "btn-warning", { "d-none": film.attendance === 0 }]} type="button" data-bs-toggle="collapse" data-bs-target={"#collapse" + film.taglink} aria-expanded="false" aria-controls={"collapse" + film.taglink}>
                                    Approval ({film.ratingsAverage}%)
                                </button>
                            </div>
                        </div>
                        <div class="collapse" id={"collapse" + film.taglink}>
                            <div class="table-responsive">
                                <table class="table reactions-table">
                                    <thead>
                                        <tr>
                                            <th>Attendance</th>
                                            <th>Returns</th>
                                            <th>5 <i class="fa fa-star" aria-hidden="true"></i></th>
                                            <th>4 <i class="fa fa-star" aria-hidden="true"></i></th>
                                            <th>3 <i class="fa fa-star" aria-hidden="true"></i></th>
                                            <th>2 <i class="fa fa-star" aria-hidden="true"></i></th>
                                            <th>1 <i class="fa fa-star" aria-hidden="true"></i></th>
                                            <th>Average</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>{film.attendance}</td>
                                            <td>{film.returns}</td>
                                            <td>{film.excellent}</td>
                                            <td>{film.good}</td>
                                            <td>{film.average}</td>
                                            <td>{film.disappointing}</td>
                                            <td>{film.awful} </td>
                                            <td>{film.ratingsAverage}%</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </article>
            ))
        }
    </section>
    <!--End of film summary section-->
</div>