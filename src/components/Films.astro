---
import FilmArticle from './FilmArticle.astro';

const {films, siteData} = Astro.props;

const sortedFilms = films.sort((a, b) => {
    const aDate = new Date(a.frontmatter.viewingDate).getTime();
    const bDate = new Date(b.frontmatter.viewingDate).getTime();
    return aDate - bDate;
});
---

<div class="row mt-3">
    <section class="col-lg-12">
        <a id="sfsfilms"></a>
        <h2>Our film season for {siteData.filmseason}</h2>
        <hr>
        <p class="mb-4">
            <strong>Doors open 30 minutes before a show.</strong>
            We donâ€™t show any adverts, so please make sure to arrive in good
            time to get your ticket and seat.
        </p>
        {
            sortedFilms.map((film) => (
                <FilmArticle film={film.frontmatter} synopsisLink={film.url} />
            ))
        }
    </section>
    <!--End of film listing section-->
</div>