---
import BaseLayout from "../layouts/Base.astro";
const { content } = Astro.props;
const season = "2022-2023";
const title = 'Home'

import siteData from '../data/siteData.json';
import filmData from "../data/films.json";
const films = filmData.films;
const bannerFilms = filmData.bannerFilms;
const bannerTitle = filmData.bannerFilmsTitle;
const ratingsTotal = filmData.ratingsTotal;
---

<BaseLayout title={title}>
    <div class="container">
        <div class="row">
            <div class="col-lg-9">
                <h1>Welcome to the Swindon Film Society</h1>
                <p>
                    The <a href="/about-sfs/sfs-origins/)">Swindon Film Society</a> was established
                    in 1947. In all this time, we have been showing, at the Swindon Arts
                    Centre, the best films that international cinema has to offer. The
                    SFS is a [membership](/membership) club, regulated by <a href="http://cinemaforall.org.uk/">
                    Cinema For All </a> (trading name for the British Federation of Film Societies).
                </p>
                <p>
                    As a society, it is required that our
                    films are shown to society members and their guests. Please help us
                    by joining today.
                </p>
                <p>
                    Our members' guests may purchase their [individual
                    admission to films](/membership) at the Swindon Central Library, the
                    Wyvern Box Office or directly at the door of the Arts Centre on film
                    nights.
                </p>
            </div>
            <div class="col-lg-3">
                <div class="membership-box">
                    <h3 class="text-center">Become a member</h3>
                    <div class="membership-box-button">
                        <a href="/membership/" role="button" class="btn btn-membership">
                            Membership and Tickets
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
            
        <div class="row">
            <section class="col-lg-12">
                <h3>{bannerTitle}</h3>
                <div class="row">
                    {
                        bannerFilms.map((film) => (
                            <div class="col-lg-4">
                                <div class="poster-box">
                                    <div class="row poster-box-date">
                                        <div class="col-lg-12 text-center">
                                            Showing: {film.dateShowing}
                                        </div>
                                    </div>
                                    <img
                                        src={film.posterImage}
                                        alt={film.title + " film poster"}
                                        class="img-responsive"
                                    />
                                    <div class="row poster-box-link">
                                        <div class="col-lg-12 text-center">
                                            <a href={"#" + film.taglink}>
                                                More Info...
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))
                    }
                </div>
            </section>
            <!-- end of banner section -->
        </div>
        <div class="row">
            <section class="col-lg-12">
                <a id="sfsfilms"></a>
                <h3>Our Film Season {siteData.filmseason}</h3>
                <p>
                    <strong>Doors open 30 minutes before a show.</strong>
                    We donâ€™t show any adverts, so please make sure to arrive in good
                    time to get your ticket and seat.
                </p>
                {
                    films.map((film) => (
                        <article class="row mb-4 film-article">
                            <a id={film.taglink} />
                            <div class="col-lg-4">
                                <img
                                    class="img-responsive film-screenshot-front-page"
                                    src={film.filmImage}
                                    title="{ film.title } film screenshot"
                                    alt="{ film.title } film screenshot"
                                />
                            </div>
                            <div class="col-lg-8">
                                <h3>{film.title.toUpperCase()}</h3>
                                <p class="date-venue-paragraph">
                                    <strong>
                                        {film.dayShowing} {film.dateShowing},{" "}
                                        {film.timeShowing}, {film.locationShowing}
                                    </strong>
                                </p>
                                <p class="film-info-line">
                                    {film.releaseDate} | {film.country} |{" "}
                                    {film.duration} | {film.certificate} |{" "}
                                    {film.genreName}
                                </p>
                                <div class="film-snippet">
                                    {" "}
                                    {film.frontPageSnippet}
                                </div>
                                <div class="row button-bar">
                                    <div class="col-lg-12 front-page-buttons">
                                        <a href={film.trailerLink} class="btn btn-warning" target="_blank">
                                            Trailer
                                        </a>
                                        <a href={film.reviewsLink} class="btn btn-warning" target="_blank">
                                            Reviews
                                        </a>
                                        <a href={film.synopsisLink} class="btn btn-warning">
                                            Synopsis
                                        </a>
                                        <a href="/membership/" class="btn btn-default btn-tickets">
                                            Tickets
                                        </a>
                                        <button class="btn btn-warning" type="button" data-bs-toggle="collapse" data-bs-target={"#collapse" + film.taglink} aria-expanded="false" aria-controls={"collapse" + film.taglink}>
                                            Approval ({film.ratingsAverage}%)
                                        </button>
                                    </div>
                                </div>
                                <div class="collapse" id={"collapse" + film.taglink}>
                                    <table class="table reactions-table">
                                        <thead>
                                            <tr>
                                                <th>Attendance</th>
                                                <th>Returns</th>
                                                <th>5*</th>
                                                <th>4*</th>
                                                <th>3*</th>
                                                <th>2*</th>
                                                <th>1*</th>
                                                <th>Average</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>{film.attendance}</td>
                                                <td>{film.returns}</td>
                                                <td>{film.excellent}</td>
                                                <td>{film.good}</td>
                                                <td>{film.average}</td>
                                                <td>{film.disappointing}</td>
                                                <td>{film.awful} </td>
                                                <td>{film.ratingsAverage}%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </article>
                    ))
                }
            </section>
            <!--End of film summary section-->
        </div>
        <!-- row end -->
        <div class="row">
            <section class="col-lg-8 offset-lg-4 ">
                <h3>Overall Audience Feedback</h3>
                <p>
                    The table below represents the audience feedback, for all films
                    shown to date.
                </p>
                <table class="table reactions-table">
                    <thead>
                        <tr>
                            <th>Attendance</th>
                            <th>Returns</th>
                            <th>5</th>
                            <th>4</th>
                            <th>3</th>
                            <th>2</th>
                            <th>1 *</th>
                            <th>Average</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{ratingsTotal.attendance}</td>
                            <td>{ratingsTotal.returns}</td>
                            <td>{ratingsTotal.excellent}</td>
                            <td>{ratingsTotal.good}</td>
                            <td>{ratingsTotal.average}</td>
                            <td>{ratingsTotal.disappointing}</td>
                            <td>{ratingsTotal.awful}</td>
                            <td>{ratingsTotal.ratingsAverage}%</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>
    </div>
</BaseLayout>
